## Быстрый старт

```bash
git clone git@github.com:ivantey1/insitetech_live.git
cd insitetech_live
python -m venv .venv
source .venv/bin/activate  # проверял на Mac
pip install -r requirements.txt
pytest tests
```

## Структура проекта

```
.
├── conftest.py         # Конфигурация PyTest и WebDriver
├── pages/
│   └── product_page.py # Page Object для страницы продукта
├── tests/
│   └── test_add_to_cart.py # Тесты добавления в корзину
├── requirements.txt    # Зависимости проекта
└── README.md           # Документация
```

## Планы

1. **Улучшение:**
   - Заменить time.sleep на надежные методы ожидания
   - Создать BasePage для общей функциональности
   - Вынести утилиты в отдельные модули
   - Реализовать генерацию и очистку тестовых данных
   - Добавить логирование и генерацию отчетов

2. **Отчетность:**
   - Добавить логирование и генерацию отчетов

3. **Конфигурация:**
   - Создать файл для управления параметрами тестов
   - Обеспечить запуск в разных окружениях и паралельный запуск тестов на кластере

4. **CI/CD:**
   - Настроить выполнение тестов в CI (например, gitlab)

## Запуск тестов

```bash
pytest tests                          # Все тесты
pytest tests/test_add_to_cart.py      # Конкретный файл
pytest tests/test_add_to_cart.py::test_cart_counter  # Конкретный тест
```

____________________________


## Предмет тестирования
https://opm-website.iot-asm-test1.insitech.live
Данные тест-кейсы предполагают проверку в последней версии браузера Chrome. 
В дальнейшем мы будем проводить тестирование на целевых платформах наших клиентов.


## Тест-кейс SM-001: Проверка функциональности поиска

### Предусловия
Открыта главная страница сайта
https://opm-website.iot-asm-test1.insitech.live

### Шаги выполнения
1. В поле поиска ввести "iPhone 12"
2. Проанализировать результаты
3. Очистить поле поиска
4. Ввести "GoPro HERO 10"
5. Проанализировать результаты

### Ожидаемые результаты
1. Для "iPhone 12":
   - Отображаются защитные пленки для iPhone 12
   - Минимум 3 релевантных результата
2. Для "GoPro HERO 10":
   - Отображается минимум 1 защитная пленка для GoPro HERO 10
3. Отсутствуют нерелевантные товары в обоих случаях

## Тест-кейс SM-002: Проверка работы конструктора выбора пленки

### Предусловия
Открыта страница https://opm-website.iot-asm-test1.insitech.live/constructor?type=2&manufacturer=28&serial=1066&model=7190

### Шаги выполнения
1. В списке "Материал" выбран "Пленка"
2. В "Тип материала" выбрать "Standard"
3. В "Тип покрытия" выбрать "Матовый"
4. Установить флажок "Я использую чехол"
5. Выбрать пункт выдачи

### Ожидаемые результаты
1. Все выбранные параметры отображаются корректно
2. Изображение в центре обновляется при выборе опций
3. Справа отображается корректная цена
4. Кнопка "Заказать" активна

## Тест-кейс SM-003: Добавление товара в корзину
## (В следующий редакция будет дорабока тестовой модели и добавление более сложных сценариев с отдельными тестами)

### Предусловия
Открыта страница конструктора с выбранными параметрами (см. SM-002)
https://opm-website.iot-asm-test1.insitech.live/constructor?type=2&manufacturer=28&serial=1066&model=7190

### Шаги выполнения
1. Нажать кнопку "В корзину"
2. Кликнуть на иконку корзины в верхнем правом углу

### Ожидаемые результаты
1. Появляется уведомление "Добавлено в корзину"
2. Открывается страница корзины
   В корзине 1 товар:
   - Название: "Пленка для iPhone 8"
   - Тип: "Standard"
4. Счетчик на иконке корзины показывает "1"

### Постусловия
Удалить товар из корзины

## Тест-кейс SM-004: Оформление заказа ( @TODO на момент тестирования невозможно было выбрать пункты выдачи и продвинуться дальше. тест требуе доработки после уточнения требований)

### Предусловия
В корзине 1 товар (см. SM-003)

### Шаги выполнения
1. На странице корзины нажать "Оформить заказ"
2. Заполнить форму:
   - Имя: Иван Петров
   - Email: ivan.petrov@example.com
   - Телефон: +7 (999) 123-45-67
   - Адрес: г. Москва, ул. Пушкина, д. 10, кв. 5
3. Выбрать способ доставки
4. Выбрать способ оплаты
5. Нажать "Подтвердить заказ"

### Ожидаемые результаты
1. Отображается страница подтверждения заказа
2. На странице указан номер заказа
3. Отображается выбранный способ доставки и оплаты
4. На email ivan.petrov@example.com приходит подтверждение

## Тест-кейс SM-005: Проверка мобильной версии сайта

### Предусловия
Открыт Chrome с эмуляцией мобильного устройства (например, iPhone X)

### Шаги выполнения
1. Открыть главную страницу сайта
2. Проверить отображение меню и поиска
3. Перейти на страницу конструктора
4. Выбрать параметры пленки (как в SM-002)
5. Добавить товар в корзину
6. Перейти к оформлению заказа

### Ожидаемые результаты
1. Сайт корректно адаптируется под мобильный экран
2. Все элементы на главной странице читаемы и кликабельны
3. Конструктор работает без ошибок на мобильном устройстве
4. Процесс добавления в корзину и оформления заказа работает корректно